{"version":3,"sources":["view/components/sidebar.js","view/components/page-navbar.js","view/components/pagedisplay.js","view/app.js","model/index.js","reportWebVitals.js","index.js"],"names":["Sidebar","props","model","state","loginBox","this","loginInfo","className","onClick","logOut","loginError","autoFocus","type","onKeyDown","event","setState","key","checkLoginPassword","target","value","password","logIn","catch","err","page","hidden","children","name","map","p","renderMenuItem","protected","active","goTo","url","id","pages","alt","src","slice","renderLoginBox","document","title","window","history","pushState","checkPagesActivation","React","Component","observer","PageNavbar","headers","href","activePageHeaders","h","caption","$","jQuery","require","PageDisplay","activePage","activePageContent","data-bs-spy","data-bs-target","data-bs-offset","dangerouslySetInnerHTML","__html","MathJax","typeset","tooltip","mathJax","bootstrapToolTips","querySelectorAll","forEach","el","hljs","highlightElement","header","push","innerText","setActivePageHeaders","App","marked","setOptions","renderer","Renderer","highlight","code","lang","language","getLanguage","pedantic","gfm","breaks","sanitize","smartLists","smartypants","xhtml","pages_config","makeObservable","observable","action","loadActivePage","setActivePageContent","computed","onpopstate","e","errMsg","text","replace","match","p1","md","latexReplace","pageInfo","urlRoot","axios","get","then","response","data","CryptoJS","AES","decrypt","toString","enc","Utf8","console","log","generateErrorPage","markdownToHTML","loadMarkdownFilePage","loadHTMLFilePage","content","path","location","pathname","checkPagesFn","checkFn","getActivePageFromPagesFn","getActivePageFromPageFn","Promise","resolve","reject","decryptedString","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","Model","getElementById"],"mappings":"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","file":"static/js/main.94ea3725.chunk.js","sourcesContent":["import React from 'react';\nimport { observer } from 'mobx-react';\nimport './sidebar.scss';\n\nclass Sidebar extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.model = props.model;\n    this.state = {\n      loginBox: false\n    };\n  }\n\n  renderLoginBox() {\n    if (this.model.loginInfo) {\n      return <div className=\"login-box\" onClick={() => this.model.logOut()}>\n        Sign out\n      </div>\n    }\n\n    if (this.state.loginBox) {\n      return <div className=\"login-box\">\n        {this.state.loginError ? <div className=\"login-error\">{this.state.loginError}</div> : null}\n        <input \n          autoFocus \n          type=\"password\"\n          onKeyDown={event => {\n            this.setState({loginError: null});\n              if (event.key === 'Enter') {\n                this.checkLoginPassword(event.target.value);\n              } else if (event.key === 'Escape') {\n                this.setState({loginBox: false});\n              }\n            }\n          }\n        />\n      </div>\n    }\n\n    return <div className=\"login-box\" onClick={() => this.setState({loginBox: true})}>\n      Sign in\n    </div>;\n  }\n\n  checkLoginPassword(password) {\n    this.model.logIn(password).catch(err => {\n      this.setState({loginError: err});\n    })\n  }\n\n  renderMenuItem(page) {\n    if (page.hidden) {\n      return null;\n    }\n    if (page.children) {\n      return <div key={page.name}>\n        <div className=\"menu-parent-item\">{page.name}</div>\n        <div className=\"menu-children\">\n          {page.children.map(p => this.renderMenuItem(p))}\n        </div>\n      </div>\n    } else {\n      if (!this.model.loginInfo && page.protected) {\n        return null;\n      }\n      return <div \n          key={page.url}\n          className={'menu-item' + (page.active ? ' active' : '')}\n          onClick={() => this.goTo(page)}\n        >\n          {page.name}\n      </div>; \n    }\n  }\n  \n  render() {\n    return (\n      <div id=\"sidebar\" >\n        <h1 className=\"title\" onClick={() => this.goTo(this.model.pages[0])}>\n          <img alt=\"EpiPolicy\" className=\"title-logo\" src=\"logo512.png\" /> EpiPolicy\n        </h1>\n        <div className=\"menu\">\n          {this.model.pages.slice(1).map(p => this.renderMenuItem(p))}\n        </div>\n        {this.renderLoginBox()}\n      </div>\n    );\n  }\n\n  goTo(page) {\n    document.title = page.name;\n    window.history.pushState({url: '/' + page.url}, page.name, '/' + page.url);\n    this.model.checkPagesActivation();\n  }\n\n\n}\n\nexport default observer(Sidebar);\n","import React from 'react';\nimport { observer } from 'mobx-react';\nimport './page-navbar.scss';\n\nclass PageNavbar extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.model = props.model;\n    this.state = {\n      headers: []\n    }\n  }\n\n  componentDidMount() {\n  }\n\n  render() {\n    return (\n      <div id=\"page-navbar-container\">\n        <nav id=\"page-navbar\" className=\"navbar navbar-light bg-light flex-column align-items-stretch p-3\">\n          <a className=\"navbar-brand\" href=\"#\">Page Content</a>\n          <nav className=\"nav nav-pills flex-column\">\n            {this.props.model.activePageHeaders.map(h => <a key={h.id} className=\"nav-link\" href={'#' + h.id}>{h.caption}</a>)}\n          </nav>\n        </nav>\n      </div>\n    );\n  }\n\n}\n\nexport default observer(PageNavbar);\n","import React from 'react';\nimport { observer } from 'mobx-react';\nimport './pagedisplay.scss';\nimport 'highlight.js/scss/github.scss';\nimport $ from 'jquery';\nimport hljs from 'highlight.js';\nimport PageNavbar from './page-navbar';\n\n// Bootstrap initialization\nwindow.$ = $;\nwindow.jQuery = $;\nrequire('bootstrap');\n\nclass PageDisplay extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.model = props.model;\n  }\n\n  render() {\n    if (!this.model.activePage || !this.model.activePageContent) {\n      return null;\n    }\n    return (\n      <div id=\"page-display\" className={this.model.activePage['no-padding'] ? 'no-padding' : ''}>\n        {this.model.activePage['hide-title'] ? null : <h1>{this.model.activePage.name}</h1>}\n        <div \n          id=\"page-content\" \n          data-bs-spy=\"scroll\" \n          data-bs-target=\"#page-navbar\" \n          data-bs-offset=\"0\" \n          dangerouslySetInnerHTML={{__html: this.model.activePageContent}}>\n        </div>\n        <PageNavbar model={this.model} />\n      </div>\n    );\n  }\n\n  mathJax() {\n    window.MathJax.typeset();\n  }\n\n  bootstrapToolTips() {\n    $('[data-toggle=\"tooltip\"]').tooltip();\n  }\n\n  componentDidUpdate() {\n    this.mathJax();\n    this.bootstrapToolTips();\n    \n    document.querySelectorAll('#page-content pre code').forEach(el => {\n      hljs.highlightElement(el);\n    });\n    \n    let headers = [];\n    document.querySelectorAll('#page-content h2, #page-content h3').forEach(header => {\n      headers.push({id: header.id, caption: header.innerText});\n    });\n    this.model.setActivePageHeaders(headers);\n  }\n\n}\n\nexport default observer(PageDisplay);\n","import React from 'react';\nimport {observer} from 'mobx-react';\nimport './app.scss';\nimport Sidebar from './components/sidebar';\nimport PageDisplay from './components/pagedisplay';\n\nclass App extends React.Component {\n\n  render() {\n    return <div id=\"app\">\n      <div id=\"sidebar-container\" \n           className={this.props.model.activePage['hide-sidebar'] ? 'hide-sidebar' : ''}\n      >\n        <Sidebar model={this.props.model} />\n      </div>\n      <div id=\"main-panel-container\">\n        <PageDisplay model={this.props.model} />\n      </div>\n    </div>;\n  }\n\n}\n\nexport default observer(App);\n","import { makeObservable, observable, computed, action } from 'mobx';\nimport pages_config from \"../pages.json\";\nimport axios from 'axios';\nimport marked from 'marked';\nimport CryptoJS from 'crypto-js';\nimport hljs from 'highlight.js';\n\nlet PASSWORD_CONTROL_STRING = 'salimmo sù, el primo e io secondo,\\ntanto ch’i’ vidi de le cose belle\\nche porta ’l ciel, per un pertugio tondo.\\nE quindi uscimmo a riveder le stelle.';\n\nmarked.setOptions({\n  renderer: new marked.Renderer(),\n  highlight: function(code, lang) {\n    const language = hljs.getLanguage(lang) ? lang : 'plaintext';\n    return hljs.highlight(code, { language }).value;\n  },\n  pedantic: false,\n  gfm: true,\n  breaks: false,\n  sanitize: false,\n  smartLists: true,\n  smartypants: false,\n  xhtml: false\n});\n\nclass Model {\n  pages = pages_config;\n  activePageContent = null;\n  activePageHeaders = [];\n  loginInfo = null;\n\n  generateErrorPage(errMsg) {\n    return '<div className=\"error\">' + errMsg +'</div>';\n  } \n\n  latexReplace(text) {\n    text = text.replace(/<tex>(.+?)<\\/tex>/g, \n      (match, p1) => '<span class=\"tex\">$' + p1 + '$</span>');\n    return text;\n  }\n\n  markdownToHTML(md) {\n    md = marked(md);\n    md = this.latexReplace(md);\n    return md;\n  } \n\n  loadMarkdownFilePage(pageInfo) {\n    let urlRoot = pageInfo.protected ? 'private-pages/' : 'pages/';\n    axios.get(urlRoot + pageInfo['markdown-file'])\n      .then(response => {\n        let data = response.data;\n        if (pageInfo.protected) {\n          if (this.loginInfo) {\n            try {\n              let decrypted = CryptoJS.AES.decrypt(response.data, this.loginInfo.password);\n              data = decrypted.toString(CryptoJS.enc.Utf8);\n              console.log(data)\n            } catch (err) {\n              this.setActivePageContent(this.generateErrorPage(err));\n            }\n          } else {\n            this.setActivePageContent(this.generateErrorPage('Login needed in order to decrypt this file'));\n          }\n        }\n        this.setActivePageContent(this.markdownToHTML(data));\n      })\n      .catch(err => {\n        this.setActivePageContent(this.generateErrorPage(err));\n      });\n  }\n\n  loadHTMLFilePage(pageInfo) {\n    axios.get('html-pages/' + pageInfo['html-file'])\n      .then(response => {\n        this.setActivePageContent(response.data);\n      })\n      .catch(err => {\n        this.setActivePageContent(err);\n      });\n  }\n\n  loadActivePage() {\n    if (!this.activePage) {\n      return null;\n    } else if (this.activePage['markdown-file']) {\n      this.loadMarkdownFilePage(this.activePage);\n    } else if (this.activePage['html-file']) {\n      this.loadHTMLFilePage(this.activePage);\n    }\n  }\n\n  setActivePageContent(content) {\n    this.activePageContent = content;\n  }\n\n  setActivePageHeaders(headers) {\n    this.activePageHeaders = headers;\n  }\n\n  checkPagesActivation() {\n    const path = window.location.pathname.slice(1);\n    let checkPagesFn = pages => {\n      for (let page of pages) {  \n        checkFn(page);\n      }\n    }\n    let checkFn = page => {\n      if (page.children) {\n        checkPagesFn(page.children);\n      }\n      page.active = path === page.url;\n    }\n    checkPagesFn(this.pages);\n    this.setActivePageContent(null);\n    this.loadActivePage();\n  }\n\n  get activePage() {\n    let getActivePageFromPagesFn = pages => {\n      for (let page of pages) {\n        let activePage = getActivePageFromPageFn(page);\n        if (activePage) return activePage;\n      }\n    }\n    let getActivePageFromPageFn = page => {\n      if (page.children) {\n        return getActivePageFromPagesFn(page.children);\n      }\n      if (page.active) return page;\n    }\n\n    let activePage = getActivePageFromPagesFn(this.pages);\n    return activePage;\n  }\n\n  logIn(password) {\n    return new Promise((resolve, reject) => {\n      axios.get('private-pages/main.pmd')\n      .then(response => {\n        try {\n          let decrypted = CryptoJS.AES.decrypt(response.data, password);\n          let decryptedString = decrypted.toString(CryptoJS.enc.Utf8);\n          console.log('login check. decrypted:\\n' + decryptedString);\n          if (PASSWORD_CONTROL_STRING === decryptedString) {\n            this.loginInfo = {\n              password: password,\n            }\n          } else {\n            this.loginInfo = null;\n          }\n          resolve();\n        } catch (err) {\n          reject('Login failed');\n        }\n      });\n    });\n  }\n\n  logOut() {\n    this.loginInfo = null;\n  }\n\n  constructor() {\n    makeObservable(this, {\n      pages: observable,\n      checkPagesActivation: action,\n      loginInfo: observable,\n      logIn: action,\n      logOut: action,\n      activePageContent: observable,\n      activePageHeaders: observable,\n      loadActivePage: action,\n      setActivePageContent: action,\n      setActivePageHeaders: action,\n      activePage: computed\n    });\n\n    this.checkPagesActivation();\n    window.onpopstate = e => {\n      this.checkPagesActivation();\n    };\n  }\n\n}\n\nexport default new Model();\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './view/app';\nimport Model from './model';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App model={Model}/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}