(this["webpackJsonpepipolicy-docs"]=this["webpackJsonpepipolicy-docs"]||[]).push([[0],{144:function(e){e.exports=JSON.parse('[{"name":"Homepage","url":"","hide-title":true,"hide-sidebar":false,"hide-page-navbar":true,"html-file":"home.html"},{"name":"Concepts","children":[{"name":"Splitting probability in compartmental model","url":"probability_rate","markdown-file":"probability_rate.md"}]},{"name":"Tutorials","children":[{"name":"Create your first model","url":"create_your_first_model","markdown-file":"create_your_first_model.md"},{"name":"Intro to Epipolicy\'s group","url":"intro_to_group","markdown-file":"intro_to_group.md"},{"name":"Intro to Epipolicy\'s facility","url":"intro_to_facility","markdown-file":"intro_to_facility.md"},{"name":"Vaccination","url":"vaccination","markdown-file":"vaccination.md"},{"name":"Hospitalization","url":"hospitalization","markdown-file":"hospitalization.md"},{"name":"Mask and border closure","url":"mask_border","markdown-file":"mask_border.md"},{"name":"State Data","url":"state-data","markdown-file":"state_data.md"},{"name":"Regex Syntax","url":"regex-syntax","markdown-file":"regex_syntax.md"},{"name":"PyEpiPolicy","url":"pyepipolicy","html-file":"pyepipolicy.html"}]},{"name":"Case Studies","children":[{"name":"Effect of Opening Schools during COVID-19","url":"alberto-2","markdown-file":"alberto_2.md"}]},{"name":"Docs","url":"docs","hidden":true,"children":[{"name":"Intervention","url":"intervention","markdown-file":"intervention_overview.md"},{"name":"Facilities","url":"facilities","markdown-file":"facilities.md"},{"name":"Schedule","url":"schedule","markdown-file":"schedule.md"},{"name":"Initialize","url":"initialize","markdown-file":"intialize_simulation.md"},{"name":"Results","url":"results","markdown-file":"results.md"},{"name":"Compare","url":"compare","markdown-file":"compare.md"},{"name":"References","url":"references","markdown-file":"references.md"}]},{"name":"Decision","url":"decision","protected":true,"markdown-file":"decision.md"},{"name":"Private Doc","url":"privatedoc","protected":true,"markdown-file":"privatedoc.pmd"}]')},149:function(e,t,n){},150:function(e,t,n){},152:function(e,t,n){},364:function(e,t,n){},386:function(e,t){},388:function(e,t){},398:function(e,t){},400:function(e,t){},427:function(e,t){},428:function(e,t){},433:function(e,t){},435:function(e,t){},442:function(e,t){},461:function(e,t){},501:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),o=n(50),r=n.n(o),l=n(6),c=n(7),s=n(9),d=n(8),u=n(21),h=(n(149),n(150),n(4)),m=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).model=e.model,i.state={loginBox:!1},i}return Object(c.a)(n,[{key:"renderLoginBox",value:function(){var e=this;return this.model.loginInfo?Object(h.jsx)("div",{className:"login-box",onClick:function(){return e.model.logOut()},children:"Sign out"}):this.state.loginBox?Object(h.jsxs)("div",{className:"login-box",children:[this.state.loginError?Object(h.jsx)("div",{className:"login-error",children:this.state.loginError}):null,Object(h.jsx)("input",{autoFocus:!0,type:"password",onKeyDown:function(t){e.setState({loginError:null}),"Enter"===t.key?e.checkLoginPassword(t.target.value):"Escape"===t.key&&e.setState({loginBox:!1})}})]}):Object(h.jsx)("div",{className:"login-box",onClick:function(){return e.setState({loginBox:!0})},children:"Sign in"})}},{key:"checkLoginPassword",value:function(e){var t=this;this.model.logIn(e).catch((function(e){t.setState({loginError:e})}))}},{key:"renderMenuItem",value:function(e){var t=this;return e.hidden?null:e.children?Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"menu-parent-item",children:e.name}),Object(h.jsx)("div",{className:"menu-children",children:e.children.map((function(e){return t.renderMenuItem(e)}))})]},e.name):!this.model.loginInfo&&e.protected?null:Object(h.jsx)("div",{className:"menu-item"+(e.active?" active":""),onClick:function(){return t.goTo(e)},children:e.name},e.url)}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{id:"sidebar",children:[Object(h.jsxs)("h1",{className:"title",onClick:function(){return e.goTo(e.model.pages[0])},children:[Object(h.jsx)("img",{alt:"EpiPolicy",className:"title-logo",src:"logo512.png"})," EpiPolicy"]}),Object(h.jsx)("div",{className:"menu",children:this.model.pages.slice(1).map((function(t){return e.renderMenuItem(t)}))}),this.renderLoginBox()]})}},{key:"goTo",value:function(e){document.title=e.name,window.history.pushState({url:"/"+e.url},e.name,"/"+e.url),this.model.checkPagesActivation()}}]),n}(a.a.Component),g=Object(u.a)(m),v=(n(152),n(153),n(51)),f=n.n(v),p=n(40),b=n.n(p),j=(n(364),function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).model=e.model,i}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return Object(h.jsx)("div",{id:"page-navbar-container",children:Object(h.jsxs)("nav",{id:"page-navbar",className:"navbar navbar-light bg-light flex-column align-items-stretch p-3",children:[Object(h.jsx)("div",{className:"navbar-brand",children:"Page Content"}),Object(h.jsx)("nav",{className:"nav nav-pills flex-column",children:this.props.model.activePageHeaders.map((function(t){return Object(h.jsx)("a",{className:"nav-link"+(e.props.model.activePageVisibleHeader===t.id?" active":"")+" "+t.tagname,href:"#"+t.id,children:t.caption},t.id)}))})]})})}}]),n}(a.a.Component)),y=Object(u.a)(j);window.$=f.a,window.jQuery=f.a;var P=n(500);window.bootstrap=P;var k=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).model=e.model,i.pageDisplayRef=a.a.createRef(),i}return Object(c.a)(n,[{key:"render",value:function(){return this.model.activePage&&this.model.activePageContent?Object(h.jsxs)("div",{id:"page-display",ref:this.pageDisplayRef,className:this.model.activePage["no-padding"]?"no-padding":"",children:[this.model.activePage["hide-title"]?null:Object(h.jsx)("h1",{children:this.model.activePage.name}),Object(h.jsx)("div",{id:"page-content",dangerouslySetInnerHTML:{__html:this.model.activePageContent}}),!this.model.activePage["hide-page-navbar"]&&Object(h.jsx)(y,{model:this.model})]}):null}},{key:"mathJax",value:function(){window.MathJax.typeset()}},{key:"bootstrapToolTips",value:function(){f()('[data-toggle="tooltip"]').tooltip()}},{key:"componentDidUpdate",value:function(){this.mathJax(),this.bootstrapToolTips(),document.querySelectorAll("#page-content pre code").forEach((function(e){b.a.highlightElement(e)}));var e=[];document.querySelectorAll("h2, h3, h4, h5").forEach((function(t){e.push({id:t.id,caption:t.innerText,tagname:t.tagName})})),this.model.setActivePageHeaders(e);var t=document.getElementById(this.props.model.activePageVisibleHeader);console.log("header",t),t&&t.scrollIntoView({behavior:"smooth"})}}]),n}(a.a.Component),O=Object(u.a)(k),w=function(e){Object(s.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).mainPanelContainerRef=a.a.createRef(),i}return Object(c.a)(n,[{key:"updateVisibleHeader",value:function(){var e=null,t=null;this.mainPanelContainerRef.current.querySelectorAll("h2, h3, h4, h5, h6").forEach((function(n){var i=n.getBoundingClientRect();i.bottom<=window.innerHeight&&(null==t||t.top<i.top)&&(e=n.id,t=i)})),this.props.model.setActivePageVisibleHeader(e)}},{key:"componentDidMount",value:function(){this.updateVisibleHeader()}},{key:"render",value:function(){var e=this;return Object(h.jsxs)("div",{id:"app",children:[Object(h.jsx)("div",{id:"sidebar-container",className:this.props.model.activePage["hide-sidebar"]?"hide-sidebar":"",children:Object(h.jsx)(g,{model:this.props.model})}),Object(h.jsx)("div",{id:"main-panel-container",ref:this.mainPanelContainerRef,onScroll:function(t){return e.updateVisibleHeader()},children:Object(h.jsx)(O,{model:this.props.model,onPageContentChanged:function(){return e.updateVisibleHeader()}})})]})}}]),n}(a.a.Component),x=Object(u.a)(w),C=n(80),A=n(2),H=n(144),E=n(52),S=n.n(E),_=n(53),I=n.n(_),N=n(42),T=n.n(N);I.a.setOptions({renderer:new I.a.Renderer,highlight:function(e,t){var n=b.a.getLanguage(t)?t:"plaintext";return b.a.highlight(e,{language:n}).value},pedantic:!1,gfm:!0,breaks:!1,sanitize:!1,smartLists:!0,smartypants:!1,xhtml:!1});var V=new(function(){function e(){var t=this;Object(l.a)(this,e),this.pages=H,this.activePageContent=null,this.activePageHeaders=[],this.loginInfo=null,this.activePageVisibleHeader=null,Object(A.n)(this,{pages:A.o,checkPagesActivation:A.f,loginInfo:A.o,logIn:A.f,logOut:A.f,activePageContent:A.o,activePageHeaders:A.o,loadActivePage:A.f,setActivePageContent:A.f,setActivePageHeaders:A.f,setActivePageVisibleHeader:A.f,activePageVisibleHeader:A.o,activePage:A.g}),this.checkPagesActivation(),window.onpopstate=function(e){t.checkPagesActivation()}}return Object(c.a)(e,[{key:"generateErrorPage",value:function(e){return'<div className="error">'+e+"</div>"}},{key:"latexReplace",value:function(e){return e=e.replace(/<tex>(.+?)<\/tex>/g,(function(e,t){return'<span class="tex">$'+t+"$</span>"}))}},{key:"markdownToHTML",value:function(e){return e=I()(e),e=this.latexReplace(e)}},{key:"loadMarkdownFilePage",value:function(e){var t=this,n=e.protected?"private-pages/":"pages/";S.a.get(n+e["markdown-file"]).then((function(n){var i=n.data;if(e.protected)if(t.loginInfo)try{i=T.a.AES.decrypt(n.data,t.loginInfo.password).toString(T.a.enc.Utf8),console.log(i)}catch(a){t.setActivePageContent(t.generateErrorPage(a))}else t.setActivePageContent(t.generateErrorPage("Login needed in order to decrypt this file"));t.setActivePageContent(t.markdownToHTML(i))})).catch((function(e){t.setActivePageContent(t.generateErrorPage(e))}))}},{key:"loadHTMLFilePage",value:function(e){var t=this;S.a.get("html-pages/"+e["html-file"]).then((function(e){t.setActivePageContent(e.data)})).catch((function(e){t.setActivePageContent(e)}))}},{key:"loadActivePage",value:function(){if(!this.activePage)return null;this.activePage["markdown-file"]?this.loadMarkdownFilePage(this.activePage):this.activePage["html-file"]&&this.loadHTMLFilePage(this.activePage)}},{key:"setActivePageContent",value:function(e){this.activePageContent=e}},{key:"setActivePageHeaders",value:function(e){this.activePageHeaders=e}},{key:"setActivePageVisibleHeader",value:function(e){this.activePageVisibleHeader=e}},{key:"checkPagesActivation",value:function(){var e=window.location.pathname.slice(1),t=window.location.hash?window.location.hash.slice(1):void 0;t&&this.setActivePageVisibleHeader(t);var n=function(e){var t,n=Object(C.a)(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;i(a)}}catch(o){n.e(o)}finally{n.f()}},i=function(t){t.children&&n(t.children),t.active=e===t.url};n(this.pages),this.setActivePageContent(null),this.loadActivePage()}},{key:"activePage",get:function(){var e=function(e){var n,i=Object(C.a)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t(a);if(o)return o}}catch(r){i.e(r)}finally{i.f()}},t=function(t){return t.children?e(t.children):t.active?t:void 0};return e(this.pages)}},{key:"logIn",value:function(e){var t=this;return new Promise((function(n,i){S.a.get("private-pages/main.pmd").then((function(a){try{var o=T.a.AES.decrypt(a.data,e).toString(T.a.enc.Utf8);console.log("login check. decrypted:\n"+o),t.loginInfo="salimmo s\xf9, el primo e io secondo,\ntanto ch\u2019i\u2019 vidi de le cose belle\nche porta \u2019l ciel, per un pertugio tondo.\nE quindi uscimmo a riveder le stelle."===o?{password:e}:null,n()}catch(r){i("Login failed")}}))}))}},{key:"logOut",value:function(){this.loginInfo=null}}]),e}()),L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,504)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),o(e),r(e)}))};r.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(x,{model:V})}),document.getElementById("root")),L()}},[[501,1,2]]]);
//# sourceMappingURL=main.79ef11b4.chunk.js.map