<style>
    .banner {
        width: 100%;
    }
    .banner-video-container {
        width: 100%;
        object-fit: cover;
        height: 200px;
        background-color: white;
    }
    .banner-video {
        width: 100%;
        object-fit: cover;
        height: 200px;
        opacity: 0.8;
        border-bottom: 1px solid #ddd;
        border-top: 1px solid #ddd;
    }
    .banner h2 {
        padding: 1.6rem;
        margin-bottom: 0;
        z-index: 10;
        text-transform: uppercase;
        color:#2c7ed1;
    }
    .tutorial-video-container {
        width: 100%;
    }
    .tutorial-video {
        border: 1px solid #ddd;
        width: 100%;
    }
    figure {
        width: 100%;
        margin: 0;
    }
    figure > img {
        width: 100%;
        border: 1px solid #ddd;
    }
    figure.no-border > img {
        border: none;
    }
    ul {
        margin-bottom: 0;
    }
    footer {

    }
</style>


<div class="banner">
    <h2>A Simulation/Intervention Tool <br/> for Epidemiologists and Planners</h1>
    <div class="banner-video-container">
        <a href="https://www.youtube.com/watch?v=JDYb4_coAf4" target="_blank">
            <video class="banner-video" autoplay="autoplay" muted loop>
                <source src="assets/banner.m4v" type="video/mp4">
                <img class="banner" src="assets/banner.jpg" />
            </video>
        </a>
    </div>
</div>

<div class="page-content">
    <p>
        <strong>Epipolicy</strong> compartmental model involves the compartmental model itself with human mobility between locales
        and human interaction within facilities of a locale. It further makes a distinction of the transition rates in the 
        compartmental model when looking at different population groups.
    </p>

    <h3>EpiPolicy in Action</h3>

    <div>
        Consider a team of epidemiologists and public-health officials that are working to curb the COVID-19 epidemic 
        in a mock country we call 
        <div data-toggle="tooltip" data-html="true" class="tooltip-link" title="The goal of this tutorial is to motivate and demonstrate the use of EpiPolicy, not to present or analyze the specific modeling choices or measures of any government in handling an epidemic.">United Provinces (UP)</div>. 
        ‚Äîa fictitious, economically developed country with three administrative regions, Hills, Beaches,and Pastures, and a population of 2.2 million. 
        Amira and Ben are members of the expert team, and they start using EpiPolicy by defining the Compartmental Model.
    </div><br/> <!-- we don't use pharagraphers due to incompatibilities, for example tooltips. -->

    <h4>Compartmental Model</h4>
    <div>
        Amira first needs to specify her disease model in the Model page. EpiPolicy provides a set of standard models obtained from 
        existing literature (e.g. SEIR and SIR), which can be used as-is or modified as needed. 
        Users can also create their own models from scratch by specifying compartments,equations, and parameters. 
        Amira constructs an SEIR COVID-19 model with additional compartments modeling diseaseseverity, hospitalization, 
        vaccination and quarantine. She also introduces parameters for reinfection and vaccine failure.
        EpiPolicy graphically visualizes the model.
    </div><br/>

    <div class="tutorial-video-container">
        <video class="tutorial-video" autoplay="autoplay" muted loop>
            <source src="assets/compartmental-models.m4v" type="video/mp4">
        </video>
    </div><br/>

    <h4>Population Modeling</h4>
    <div>
        Amira opens the Locales page to describe administrative locales relevant to the team‚Äôs public-health policies. 
        Amira can either provide custom shapefiles and regional population data in a JSON format or utilize a plug-in that loads this data 
        directly from NASA‚Äôs GPW data for a specific country. A country can have multiple administrate levels: 0 for the entire country, 
        1 for states or provinces within a country, 2 for sub-regions or counties within level 1 locales and so on. 
        Amira selects UP as the country, 2020 as the year, and chooses 1 as the administration level.
    </div><br/>

    <figure>
        <img src="assets/locales-screenshot.jpg" alt="Locales Screenshot" />
    </figure><br/>

    <div>
        Amira creates the following three groups in the Groups page: children (ages 0-19), adults (ages 20-49), and seniors (ages over 50). 
        Amira can define any group if she knows its proportion of the population. A plug-in allows Amira toutilize demographic data 
        available from NASA‚Äôs GPW dataset to define age- and sex- based groups.
    </div><br/>

    <figure>
        <img src="assets/groups-screenshot.jpg" alt="Groups Screenshot" />
    </figure><br/>
    
    <div>
        In the Facilities page, Amira defines four facilities, ùëì. 
        Members of different groups, ùëî, move to these facilitiesthroughout the day, reside within them for a certain proportion of their time, 
        and interact with members of other groups. For example, children spend roughly a 1/3 of their time in schools interacting mostly with 
        other children (>90%) of the time. 
        Amira provides two matrices (per locale if the distributions vary regionally): time spent by eachgroup in each facility (ùëì ùëî) and 
        for each facility the percentage of time spent interacting with other group members (ùëì ùëîùëî).
        EpiPolicy also provides a plug-in to extract this data from the agent-based human-interaction simulator: SynthPop.
    </div><br/>

    <div class="tutorial-video-container">
        <video class="tutorial-video" autoplay="autoplay" muted loop>
            <source src="assets/facilities.m4v" type="video/mp4">
        </video>
    </div><br/>

    <h4>Mobility Between Locales</h4>
    <div>
        On the Mobility page, Amira describes mobility patterns across land borders with mobility matrices.
        EpiPolicy provides several mobility algorithms to automatically construct these matrices from each locale‚Äôs border perimeter and population size.
    </div><br/>

    <div class="tutorial-video-container">
        <video class="tutorial-video" autoplay="autoplay" muted loop>
            <source src="assets/mobility.m4v" type="video/mp4">
        </video>
    </div><br/>

    <h4>Tailoring Parameters to Subpopulations</h4>
    <div>
        In the Parameters page, Amira refines specific parameters in her model. Because older patients suffer more severe outcomes with COVID-19, 
        she filters for disease severity and hospitalization parameters and increases their rates for seniors across all locales.
    </div><br/>

    <figure class="no-border">
        <img src="assets/parameters-screenshot.jpg" alt="Parameters Screenshot" />
    </figure><br/>

    <h4>Specifying Interventions and Costs</h4>
    <div>
        In EpiPolicy, an intervention is described by two functions: <code>effect()</code> and <code>cost()</code>. 
        These functions take in control parameters as arguments that influence their behavior. Consider a simple mask-wearing intervention 
        that has two parameters: the degree of compliance and the degree of efficacy in reducing transmission. 
        This intervention directly reduces the beta parameter, which controls the population transition rate from the susceptible (S) 
        compartment to the exposed (E) one.
    </div><br/>

    <div class="tutorial-video-container">
        <video class="tutorial-video" autoplay="autoplay" muted loop>
            <source src="assets/interventions.m4v" type="video/mp4">
        </video>
    </div><br/>

    <h4>Intervention planning with schedules</h4>
    <div>
        In the Schedule page, Ben can specify when, where and how to apply an intervention. 
        To specify when, Ben can either provide multiple exact starting and stopping dates or a periodic schedule. 
        Alternatively, Ben can provide a conditional start and stop with the help of triggers: predicate functions that 
        start or end an intervention if certain conditions are met (e.g. infections rise above or drop below a given threshold). 
        To specify where, Ben can describe for each intervention time interval, which locales to selectively apply the intervention 
        to with the help of selector objects (e.g. {'locale':'UP.*'} applies an intervention over all the provinces in UP). 
        To specify how, Ben can provide explicit values for each intervention‚Äôs control parameters. As Ben constructs the schedule,
        EpiPolicy visualizes it with a Gantt chart that color codes each intervention and uses opacity to encode the intensity with 
        which it is applied.
    </div><br/>

    <figure>
        <img src="assets/schedule.jpg" alt="Schedule Screenshot" />
    </figure><br/>

    <h4>Viewing results</h4>
    <div>
        <p>
            Amira wishes to view the results of Ben‚Äôs schedule. Using the Initialize page, she defines starting simulation conditions 
            such as the number of infected individuals at different locales.
            After executing the simulations, she can view the outcomes of each schedule independently in the Results page.  
        </p>
        <ul>
            <li>Total infections, deaths, and cost provide an overview of the cumulative impact of the epidemic.</li>
            <li>A map color-coded by cumulative infections per locale illustrates the spread of infection across the country, 
                allowing users to easily identify hard-hit areas.</li>
            <li>A schedule ofinterventions provides a quick overview of the policy</li>
            <li>A chart of reproduction numbers (basic ùëÖ0 and effective ùëÖ) provides a rough indication on whether the outbreak will die 
                out (ùëÖ0 &lt; 1) or persist (ùëÖ0 &gt; 1) or whether herd immunityhas been attained (ùëÖ &lt; 1)</li>
            <li>Standard compartment time-series (e.g. daily total number of infected individuals)</li>
            <li>Cumulative ‚Äòdollar‚Äô cost graphs for the disease and the policy including the cost of each intervention over time.</li>
        </ul><br/>
        <div>
            All these charts are linked: selecting a locale in the map focuses the results to only that locale, moving a guideline across the schedules 
            or any of the other line charts provides details specific to that day in all the other charts.
        </div>
    </div><br/>

    <div class="tutorial-video-container">
        <video class="tutorial-video" autoplay="autoplay" muted loop>
            <source src="assets/results.m4v" type="video/mp4">
        </video>
    </div><br/>

    <h4>Comparing different simulations</h4>
    <div>
        <p>
            Amira can also use the Compare page to compare two or more simulations.
            This page contains fewer visualizations than the more detailed Results page for easier policy comparisons.
        </p>
        <ul>
            <li>A table of total infections, deaths and cumulative costs per policy</li>
            <li>A Gantt chart foreach schedule that visually illustrates key policy differences</li>
            <li>A line chart of each policy‚Äôs reproduction numbersthat can help determine which policies 
                are more effective at containing the outbreak in a shorter time-frame.</li>
        </ul>
    </div><br/>

    <div class="tutorial-video-container">
        <video class="tutorial-video" autoplay="autoplay" muted loop>
            <source src="assets/compare.m4v" type="video/mp4">
        </video>
    </div><br/>

    <h4>Automatic Exploration of Policies</h4>
    <div>
        Specifying intervention schedules is often a trial-and-error process as users must adjust multiple intervention parameters 
        (when, where and how) in order to find an intervention plan that minimizes overall disease burden and economic cost. 
        To illustrate the complexity of this problem: with ùëõ interventions, ùëô locales, and a planning timeline of ùë° days: 
        there are ùëõùëôùë° possible schedules to consider! This is excluding the possible options for interventions with free control 
        parameters (e.g. the degree of workplace closures). 
        <br/>
        In the Optimize page, Ben can rely on EpiPolicy‚Äôs Monte Carlo Tree Search (MCTS) algorithm to search for a cost-effective policy.
        <br/>
        MCTS will generate several thousands of plans and simulate each one, to find the most cost-effective one. 
        This process can take hours to days depending on the computational processing capacity available, and the configuration 
        of the MCTS algorithm. To support this feature, the EpiPolicy simulator is designed with efficiency in mind, running a 
        fullyear simulation in less than 3s. MCTS runs asynchronously and once complete, its chosen schedule can be loaded into the UI, 
        and its results viewed or compared with other hand-crafted schedules.
    </div><br/>

    <h4>Further analysis</h4>
    <div>
        EpiPolicy‚Äôs UI, a client, generates a JSON specification to describe an entire simulation: the disease and population models, 
        the interventions, and optionally the schedule. This is fed to EpiPolicy‚Äôs simulator, a server, which also returns its 
        results as a JSON file that is visualized by the client‚Äôs dashboards. The client acts as a model management system keeping 
        track of all simulations and MCTS executions. 
        <br/>
        The division of work across the client and server and the materialization of inputs and outputs as open-format JSON files 
        allows the integration of many third-party tools and custom external scripts that perform a variety of more specialized 
        analysis using EpiPolicy‚Äôs simulator such as parameter sensitivity analysis and intervention impact analysis. 
    </div><br/>



    <h3>Installing and running EpiPolicy</h3>

    <div>
        <ul>
            <li>Install the following required tools:
                <ul>
                    <li><a href="https://www.python.org/downloads/release/python-386/">Python</a> (version 3.8)</li>
                    <li><a href="https://nodejs.org/en/download/">Node.js</a> (version 12.18 or older)</li>
                    <li><a href="https://docs.mongodb.com/manual/administration/install-community/">MongoDB</a> (version 4.4.0)
                    <li><a href="https://classic.yarnpkg.com/en/docs/install/#mac-stable">Yarn</a></li>
                    <li><a href="https://www.google.com/chrome/">Google Chrome</a></li>
                </ul>
            </li>
            <li>Download the <b>EpiPolicy</b> source code from <a href="#">here</a>.</li>
            <li>To install and set up the code and data, run the following command in the root directory: 
                <pre>sh requirements_installer.sh</pre>
            </li>
            <!-- <li>Once the installation has finished, run <code>test.sh</code> to test the installation.</li> -->
            <li>After installation, you can start using EpiPolicy by running the following command in the root directory: 
                <pre>sh epipolicy.sh</pre>
            </li>
            <li>You can see EpiPolicy in your <a href="http://localhost:3000/">browser</a>.</li>
            <!-- and NPM (version 6.14.6) -->
            </ul>
    </div>
    <br/>


</div>





<footer>

</footer>